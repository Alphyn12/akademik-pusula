@import url('https://fonts.googleapis.com/css2?family=Anton&family=Bebas+Neue&family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap');

/* Global Settings */
html,
body,
[class*="css"] {
    font-family: 'Space Mono', monospace;
    background-color: #050505 !important;
    color: #F0F0F0;
}

/* Subtle grainy overlay for that raw printed/digital punk feel */
.stApp {
    background-color: #050505 !important;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
}

/* Hide Sidebar */
[data-testid="collapsedControl"],
[data-testid="stSidebar"] {
    display: none !important;
}

/* Giant Brutalist Logo */
.logo-container {
    text-align: center;
    margin-top: 6vh;
    margin-bottom: 3rem;
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    animation: brutalist-enter 0.5s cubic-bezier(0.25, 1, 0.5, 1);
}

@keyframes brutalist-enter {
    0% {
        transform: scale(0.95) translateY(-20px);
        opacity: 0;
    }

    100% {
        transform: scale(1) translateY(0);
        opacity: 1;
    }
}

.logo-text {
    font-family: 'Anton', sans-serif;
    font-size: 8rem;
    letter-spacing: 2px;
    color: #F0F0F0;
    margin: 0;
    padding: 0;
    line-height: 0.9;
    text-transform: uppercase;
    text-shadow: 6px 6px 0px #00D2FF, -4px -4px 0px #CCFF00;
    transition: transform 0.2s;
}

.shift-left {
    display: inline-block;
    transform: translateX(-20px);
    /* AKADEMÄ°K yazÄ±sÄ±nÄ± hafif sola kaydÄ±rarak ortalar */
}

.logo-text:hover {
    transform: translate(-5px, -5px);
    text-shadow: 10px 10px 0px #00D2FF, -6px -6px 0px #CCFF00;
    cursor: crosshair;
}

.logo-subtext {
    font-family: 'Space Mono', monospace;
    background-color: #CCFF00;
    color: #050505;
    font-weight: bold;
    padding: 4px 12px;
    border: 2px solid #050505;
    transform: rotate(-3deg);
    margin-top: -15px;
    z-index: 10;
    font-size: 1.1rem;
    box-shadow: 4px 4px 0px #00D2FF;
}

/* Search Bar Input Styling */
[data-testid="stTextInput"] {
    max-width: 900px;
    margin: 0 auto;
}

div[data-testid="InputInstructions"] {
    display: none !important;
}

[data-testid="stTextInput"] div[data-baseweb="input"] {
    border-radius: 0px !important;
    background-color: #0e1117 !important;
    border: 4px solid #CCFF00 !important;
    padding: 18px 24px !important;
    min-height: 80px;
    display: flex;
    align-items: center;
    box-shadow: 8px 8px 0px #00D2FF;
    transition: all 0.2s;
    position: relative;
}

[data-testid="stTextInput"] div[data-baseweb="input"]>div {
    background-color: #0e1117 !important;
}

[data-testid="stTextInput"] div[data-baseweb="input"]:focus-within {
    transform: translate(-4px, -4px);
    box-shadow: 12px 12px 0px #00D2FF;
    background-color: #0e1117 !important;
}

[data-testid="stTextInput"] input {
    font-size: 1.5rem !important;
    color: #FFFFFF !important;
    font-family: 'Space Mono', monospace !important;
    font-weight: 700;
    caret-color: #00D2FF;
    text-align: left !important;
    padding: 0 40px 0 10px !important;
    line-height: normal !important;
    background-color: #0e1117 !important;
}

[data-testid="stTextInput"] input::placeholder {
    color: #666 !important;
    font-weight: 400;
    text-align: left !important;
}

/* Sci-Hub URL Input Ã–zel Stilleri (Åžeffaf ve OrtalÄ±) */
[data-testid="stTextInput"]:has(input[aria-label="Sci-Hub Domain URL"]) div[data-baseweb="input"],
[data-testid="stTextInput"]:has(input[aria-label="Sci-Hub Domain URL"]) div[data-baseweb="input"]>div,
[data-testid="stTextInput"]:has(input[aria-label="Sci-Hub Domain URL"]) div[data-baseweb="input"]:focus-within,
[data-testid="stTextInput"] input[aria-label="Sci-Hub Domain URL"] {
    background-color: transparent !important;
}

[data-testid="stTextInput"] input[aria-label="Sci-Hub Domain URL"] {
    text-align: center !important;
    padding: 0 !important;
}

[data-testid="stTextInput"] div[data-baseweb="input"]:has(input[placeholder="MÃ¼hendislik literatÃ¼rÃ¼nde arayÄ±n..."])::after {
    content: "ðŸ”";
    position: absolute;
    right: 25px;
    font-size: 2.2rem;
    pointer-events: none;
}

/* Form Container Override */
[data-testid="stForm"] {
    border: none !important;
    padding: 0 !important;
    background-color: transparent !important;
}

/* Base Button Animations and Styling */
.stButton>button,
[data-testid="stFormSubmitButton"]>button {
    background-color: #050505 !important;
    border: 4px solid #CCFF00 !important;
    color: #FFFFFF !important;
    font-family: 'Space Mono', monospace !important;
    font-weight: bold !important;
    border-radius: 0px !important;
    padding: 0.5rem 1rem !important;
    box-shadow: 6px 6px 0px #00D2FF !important;
    transition: all 0.2s ease-in-out !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
}

[data-testid="stLinkButton"]>a {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    text-decoration: none !important;
    background-color: #050505 !important;
    border: 4px solid #CCFF00 !important;
    color: #FFFFFF !important;
    font-family: 'Space Mono', monospace !important;
    font-weight: bold !important;
    border-radius: 0px !important;
    padding: 0.5rem 1rem !important;
    box-shadow: 6px 6px 0px #00D2FF !important;
    transition: all 0.2s ease-in-out !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    width: 100% !important;
}

.stButton>button:hover,
[data-testid="stFormSubmitButton"]>button:hover,
[data-testid="stLinkButton"]>a:hover {
    background-color: #CCFF00 !important;
    color: #050505 !important;
    box-shadow: 8px 8px 0px #00D2FF !important;
    transform: translate(-2px, -2px) !important;
}

/* Custom Action Button Override Colors (Matched via Link Href) */
[data-testid="stLinkButton"]>a[href*="sci-hub"] {
    background-color: #CCFF00 !important;
    border-color: #050505 !important;
    color: #050505 !important;
}

[data-testid="stLinkButton"]>a[href*="sci-hub"]:hover {
    background-color: #b3e600 !important;
    box-shadow: 4px 4px 0px #050505 !important;
}

[data-testid="stLinkButton"]>a[href*="annas-archive"] {
    background-color: #FF0055 !important;
    border-color: #050505 !important;
    color: #FFF !important;
}

[data-testid="stLinkButton"]>a[href*="annas-archive"]:hover {
    background-color: #e6004c !important;
    box-shadow: 4px 4px 0px #050505 !important;
}

[data-testid="stLinkButton"]>a[href*="libgen"] {
    background-color: #FF8800 !important;
    border-color: #050505 !important;
    color: #FFF !important;
}

[data-testid="stLinkButton"]>a[href*="libgen"]:hover {
    background-color: #e67a00 !important;
    box-shadow: 4px 4px 0px #050505 !important;
}

/* Primary Button Override for Focus Mode */
button[data-testid="baseButton-primary"] {
    background-color: #00D2FF !important;
    border-color: #050505 !important;
    color: #050505 !important;
}

button[data-testid="baseButton-primary"]:hover {
    background-color: #00bce6 !important;
    box-shadow: 4px 4px 0px #CCFF00 !important;
}

.stButton>button,
[data-testid="stForm"] .stButton>button,
[data-testid="stFormSubmitButton"]>button {
    font-size: 2.4rem !important;
    width: 100% !important;
    /* Forces the button stretch in columns and forms */
}

.stButton>button:hover,
[data-testid="stFormSubmitButton"]>button:hover {
    background-color: #CCFF00 !important;
    color: #050505 !important;
    border-color: #00D2FF !important;
    box-shadow: 12px 12px 0px #00D2FF !important;
    transform: translate(-4px, -4px);
}

.stButton>button:active,
[data-testid="stFormSubmitButton"]>button:active {
    transform: translate(4px, 4px) !important;
    box-shadow: 0px 0px 0px transparent !important;
}



/* Expander / Settings */
[data-testid="stExpander"] {
    background-color: #111111;
    border: 4px solid #555;
    border-radius: 0px;
    max-width: 900px;
    margin: 2rem auto;
    box-shadow: 6px 6px 0px #333;
    transition: all 0.2s;
}

[data-testid="stExpander"]:hover {
    border-color: #CCFF00;
    box-shadow: 8px 8px 0px #00D2FF;
}

[data-testid="stExpander"] p {
    font-family: 'Space Mono', monospace;
    font-weight: bold;
}

/* Metric Cards */
.metric-card {
    background: #111111;
    border: 4px solid #CCFF00;
    border-radius: 0px;
    padding: 2rem;
    text-align: left;
    margin-top: 3rem;
    transition: all 0.2s;
    position: relative;
    box-shadow: 8px 8px 0px #00D2FF;
}

.metric-card:hover {
    transform: translate(-4px, -4px);
    box-shadow: 12px 12px 0px #00D2FF;
    border-color: #00D2FF;
}

.metric-card h3 {
    color: #F0F0F0;
    font-family: 'Anton', sans-serif;
    font-size: 4rem;
    line-height: 1;
    margin: 0;
    letter-spacing: 2px;
}

.metric-card .highlight-val {
    color: #CCFF00;
    text-shadow: 3px 3px 0px #00D2FF;
}

.metric-card p {
    color: #AAA;
    font-size: 1rem;
    text-transform: uppercase;
    font-weight: 700;
    margin-top: 1rem;
    border-top: 2px dashed #444;
    padding-top: 0.5rem;
}

/* Cool Loading Spinner - Brutalist Override */
[data-testid="stSpinner"] {
    margin: 2rem auto;
    padding: 2rem;
    border: 4px solid #00D2FF;
    background-color: #111111;
    box-shadow: 8px 8px 0px #CCFF00;
    text-align: left;
    max-width: 900px;
}

[data-testid="stSpinner"] p {
    font-family: 'Space Mono', monospace !important;
    font-weight: bold !important;
    color: #F0F0F0 !important;
    font-size: 1.2rem !important;
    text-transform: uppercase;
    letter-spacing: 1px;
}

/* REDESIGNED WIDGETS - Neo-Brutalist Theme Overrides */

/* Multiselect Tags */
[data-testid="stMultiSelect"] span[data-baseweb="tag"] {
    background-color: #CCFF00 !important;
    border: 2px solid #050505 !important;
    border-radius: 0px !important;
    color: #050505 !important;
    font-family: 'Space Mono', monospace !important;
    font-weight: 800;
    box-shadow: 4px 4px 0px #00D2FF !important;
    margin-right: 12px !important;
    margin-bottom: 12px !important;
    padding: 4px 8px !important;
}

[data-testid="stMultiSelect"] span[data-baseweb="tag"] span {
    color: #050505 !important;
    font-weight: 900 !important;
}

[data-testid="stMultiSelect"] span[data-baseweb="tag"] svg {
    fill: #050505 !important;
}

/* Multiselect Dropdown & Input Box */
[data-testid="stMultiSelect"] div[data-baseweb="select"]>div {
    background-color: #111111 !important;
    border: 2px solid #555 !important;
    border-radius: 0px !important;
}

[data-testid="stMultiSelect"] div[data-baseweb="select"]>div:focus-within {
    border-color: #00D2FF !important;
    box-shadow: 6px 6px 0px #CCFF00 !important;
}

/* Slider Overrides (Targeting track and thumb) */
div[data-testid="stSliderTickBar"] {
    background-color: #333 !important;
}

div[data-testid="stSlider"] div[role="slider"] {
    background-color: #CCFF00 !important;
    border: 4px solid #050505 !important;
    border-radius: 0px !important;
    width: 24px !important;
    height: 24px !important;
    box-shadow: 4px 4px 0px #00D2FF !important;
    transform: translateY(-4px);
}

div[data-testid="stSlider"] div[data-baseweb="slider"]>div>div>div:nth-child(2) {
    background-color: #00D2FF !important;
    /* Filled track color */
    border: 2px solid #050505;
    height: 8px !important;
}

div[data-testid="stSlider"] div[data-baseweb="slider"]>div>div>div:first-child {
    background-color: #333 !important;
    /* Empty track color */
    height: 8px !important;
}

/* Toggle & Radio Buttons */
[data-testid="stCheckbox"] div[data-baseweb="checkbox"]>div {
    border-radius: 0px !important;
    border: 2px solid #555 !important;
    background-color: #111111 !important;
}

[data-testid="stCheckbox"] input:checked+div>div {
    background-color: #00D2FF !important;
    border-color: #00D2FF !important;
    box-shadow: 4px 4px 0px #CCFF00 !important;
}

[data-testid="stRadio"] div[role="radiogroup"] label>div:first-child {
    border-radius: 0px !important;
    border: 2px solid #555 !important;
    background-color: #111111 !important;
}

[data-testid="stRadio"] input:focus+div {
    box-shadow: none !important;
}

[data-testid="stRadio"] div[data-checked="true"] {
    border-color: #00D2FF !important;
    background-color: #00D2FF !important;
    box-shadow: 4px 4px 0px #CCFF00 !important;
}

[data-testid="stRadio"] div[data-checked="true"]>div {
    background-color: #050505 !important;
    /* Inner filled square */
    border-radius: 0px !important;
}

/* DataFrame Styling - Brutalist override */
[data-testid="stDataFrame"] {
    display: none !important;
}

/* Export Container & Feedback wrapper styling */
div[data-testid="stVerticalBlockBorderWrapper"]:has(.export-header),
div[data-testid="stVerticalBlockBorderWrapper"]:has(.feedback-header) {
    border: 4px solid #CCFF00 !important;
    background-color: #111111 !important;
    border-radius: 0 !important;
    box-shadow: 8px 8px 0px #00D2FF !important;
    padding: 2rem !important;
    margin-top: 2rem !important;
    height: 100% !important;
    box-sizing: border-box !important;
}

div[data-testid="stVerticalBlockBorderWrapper"]:has(.feedback-header)>div {
    height: 100% !important;
}

/* Export Section Styling */
.export-header {
    font-family: 'Anton', sans-serif !important;
    font-size: 3rem !important;
    color: #F0F0F0;
    margin-bottom: 2rem !important;
    text-transform: uppercase;
    letter-spacing: 2px;
    text-shadow: 4px 4px 0px #00D2FF;
}

/* Export Buttons (Download Buttons) */
/* Streamlit nested div targeting for download buttons */
div[data-testid="stDownloadButton"]>button {
    background-color: #CCFF00 !important;
    border: 3px solid #050505 !important;
    color: #050505 !important;
    border-radius: 0px !important;
    font-weight: 800 !important;
    font-family: 'Bebas Neue', sans-serif !important;
    letter-spacing: 2px;
    padding: 1rem 1.5rem !important;
    transition: all 0.2s !important;
    display: block;
    width: 100%;
    margin-top: 1rem;
    text-align: center;
    text-transform: uppercase;
    font-size: 1.5rem !important;
    box-shadow: 6px 6px 0px #050505 !important;
}

div[data-testid="stDownloadButton"]>button:hover {
    background-color: #00D2FF !important;
    color: #050505 !important;
    border-color: #050505 !important;
    box-shadow: 8px 8px 0px #050505 !important;
    transform: translate(-3px, -3px);
}

div[data-testid="stDownloadButton"]>button:active {
    transform: translate(3px, 3px);
    box-shadow: 0px 0px 0px transparent !important;
}

/* =========================================
   CHAT UI - NEO-BRUTALIST STYLING
========================================= */

/* Chat Message Container */
[data-testid="stChatMessage"] {
    background-color: #111111 !important;
    border: 3px solid #555 !important;
    border-radius: 0px !important;
    padding: 1.5rem !important;
    margin-bottom: 1.5rem !important;
    box-shadow: 6px 6px 0px #333 !important;
    transition: all 0.2s;
}

/* AI Assistant Message */
[data-testid="stChatMessage"][data-baseweb="block"]:has(div[data-testid="stChatMessageAvatarUser"] + div [data-testid="stMarkdownContainer"] p:empty) {
    /* This is a hacky way to distinguish user from assistant if needed, but Streamlit has classes */
}

div[data-testid="stChatMessage"]:nth-child(even) {
    /* Assuming Assistant is even or vice versa, but let's use a more robust selector if possible. In Streamlit, assistant vs user usually has different default background colors we can override */
    border-color: #00D2FF !important;
    box-shadow: 6px 6px 0px #CCFF00 !important;
    background-color: #0a0a0a !important;
}

div[data-testid="stChatMessage"]:nth-child(odd) {
    border-color: #CCFF00 !important;
    box-shadow: 6px 6px 0px #00D2FF !important;
}

/* Chat Input Box (The bottom bar) */
[data-testid="stChatInput"] {
    background-color: transparent !important;
    padding-bottom: 2rem !important;
}

/* Remove any background panel around the bottom chat input from Streamlit v1.30+ */
div.stBottomBlockContainer {
    background: transparent !important;
    background-color: transparent !important;
}

[data-testid="stChatInput"] textarea {
    background-color: #111111 !important;
    border: 4px solid #CCFF00 !important;
    border-radius: 0px !important;
    color: #FFF !important;
    font-family: 'Space Mono', monospace !important;
    font-size: 1.2rem !important;
    padding: 1rem !important;
    box-shadow: 8px 8px 0px #00D2FF !important;
}

[data-testid="stChatInput"] textarea:focus {
    border-color: #00D2FF !important;
    box-shadow: 8px 8px 0px #CCFF00 !important;
}

/* Chat Input Send Button */
[data-testid="stChatInputSubmitButton"] {
    background-color: #CCFF00 !important;
    border: 2px solid #050505 !important;
    border-radius: 0px !important;
    color: #050505 !important;
    right: 15px !important;
    bottom: 15px !important;
    box-shadow: 4px 4px 0px #00D2FF !important;
    transition: all 0.2s;
}

[data-testid="stChatInputSubmitButton"]:hover {
    background-color: #00D2FF !important;
    box-shadow: 6px 6px 0px #CCFF00 !important;
    transform: translate(-2px, -2px);
}